<div class="p-6 max-w-6xl mx-auto">
  <!-- Bouton Ajouter -->
  <div class="flex justify-end mb-4">
    <button
      class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow"
      (click)="ouvrirFormulaire()"
    >
      <i class="ri-add-line text-lg"></i>
      Ajouter un produit
    </button>
  </div>

  <!-- CARD FORMULAIRE -->
  <div *ngIf="afficherFormulaire" class="bg-white p-6 rounded-xl shadow-lg mb-6">
    <h2 class="text-2xl font-bold text-gray-800 mb-4">Ajouter le produit</h2>
    <app-ajouter-produit
      (produitAjoute)="ajouterProduitLocalement($event)"
      (fermer)="fermerFormulaire()"
    ></app-ajouter-produit>
  </div>

  <!-- CARD LISTE DES PRODUITS -->
  <div class="bg-white p-6 rounded-xl shadow-lg">
    <h2 class="text-3xl font-bold text-gray-800 mb-6">Liste des produits</h2>

    <div class="overflow-x-auto rounded-lg border border-gray-200">
      <table class="min-w-full bg-white">
        <thead class="bg-blue-600 text-white">
          <tr>
            <th class="py-3 px-5 text-left">Nom</th>
            <th class="py-3 px-5 text-left">Code</th>
            <th class="py-3 px-5 text-left">Quantité</th>
            <th class="py-3 px-5 text-left">Prix</th>
            <th class="py-3 px-5 text-left">Expiration</th>
            <th class="py-3 px-5 text-left">Statut</th>
            <th class="py-3 px-5 text-left">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let produit of produits" class="hover:bg-gray-50 border-t border-gray-200">
            <td class="py-3 px-5">{{ produit.nom }}</td>
            <td class="py-3 px-5">{{ produit.code }}</td>
            <td class="py-3 px-5">{{ produit.quantite }}</td>
            <td class="py-3 px-5">{{ produit.prix | currency:'EUR' }}</td>
            <td class="py-3 px-5">{{ produit.date_expiration | date:'dd/MM/yyyy' }}</td>
            <td class="py-3 px-5">
              <span
                class="px-3 py-1 rounded-full text-sm font-semibold"
                [ngClass]="{
                  'bg-green-100 text-green-700': produit.statut === 'En stock',
                  'bg-amber-100 text-amber-800': produit.statut === 'Rupture',
                  'bg-red-100 text-red-700': produit.statut === 'Indisponible'
                }"
              >
                {{ produit.statut }}
                <!-- Icônes correspondantes -->
                <i class="ml-1"
                   [ngClass]="{
                     'ri-check-line text-green-600': produit.statut === 'En stock',
                     'ri-alert-line text-amber-600': produit.statut === 'Rupture',
                     'ri-close-line text-red-600': produit.statut === 'Indisponible'
                   }">
                </i>
              </span>
            </td>
            <td class="py-3 px-5 flex items-center space-x-3">
              <button class="text-yellow-500 hover:text-yellow-600">
                <i class="ri-edit-2-line text-xl"></i>
              </button>
              <button class="text-red-500 hover:text-red-600">
                <i class="ri-delete-bin-line text-xl"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>